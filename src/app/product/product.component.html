<script src="node_modules/angularjs-currency-input-mask/dist/angularjs-currency-input-mask.min.js"></script>

<div class="container contact">
    <h5>Add products here!</h5>
    <hr />
    <div class="row">
        <div class="col s12">
            <div id="msg-login" class="card-panel white-text" [class.red]="!this.isSuccess"
                [class.blue]="this.isSuccess" *ngIf="this.isShowMessage">
                {{ this.message }}
            </div>
        </div>
        <form class="col s12" #form="ngForm" (submit)="onSubmit()">
            <div class="input-field col s12 l6">
                <input id="input-name" name="input-name" type="text" [(ngModel)]="this.product.name"
                     #name="ngModel" required />
                <label for="input-name">Nome *</label>
                <div class="red-text" [hidden]="name.valid || name.untouched">
                    Type the product name.
                </div>
            </div>

            <div class="input-field col s12 l6">
                <input id="input-brand" name="input-brand" type="text" class="validate" [(ngModel)]="this.product.brand"
                    #brand="ngModel" required />
                <label for="input-brand">Brand *</label>
                <div class="red-text" [hidden]="brand.valid || brand.untouched">
                    Type the product brand.
                </div>
            </div>

            <div class="input-field col s12 l6">
                <input id="input-color" name="input-color" type="text" [(ngModel)]="this.product.color" #color="ngModel" />
                <label for="input-color">Color </label>
                <div class="red-text" [hidden]="color.valid || color.untouched">
                    Type the product color.
                </div>
            </div>

            <div class="input-field col s12 l6">
                <input id="input-type" name="input-type" type="text" [(ngModel)]="this.product.type" #type="ngModel" required />
                <label for="input-type">Type *</label>
                <div class="red-text" [hidden]="type.valid || type.untouched">
                    Type the product type.
                </div>
            </div>

            <div class="input-field col s12 l6">
                <input id="input-price" name="input-price" type="text" [(ngModel)]="this.product.price" #type="ngModel"/>
                <label for="input-type">Price </label>
                <div class="red-text" [hidden]="type.valid || type.untouched">
                    How much you paid for it?
                </div>
            </div>


            <div class="input-field col s12 l6">
                <input id="input-type" name="input-type" type="url" [(ngModel)]="this.product.img" #type="ngModel"/>
                <label for="input-type">Image Url </label>
                <div class="red-text" [hidden]="type.valid || type.untouched">
                    Add an image url here.
                </div>
            </div>

            <div class="input-field col s12 l6">
                <input
                  id="input-date"
                  name="input-date"
                  type="date"
                  [(ngModel)]="this.product.date"
                />
                <label for="input-birthday">Date</label>
              </div>
        

            <button class="btn waves-effect waves-light amber darken-4" type="submit" [disabled]="!form.valid">
                Enviar
                <i class="material-icons right">send</i>
            </button>
        </form>
    </div>

    <h5>This is your vanity!</h5>
    <!-- Products Table -->
    <table class="highlight" *ngIf="products && products!.length > 0">
        <thead>
            <tr>
                <th>Name</th>
                <th>Brand</th>
                <th>Color</th>
                <th>Type</th>
                <th>Price</th>
                <th>Image</th>
                <th>Date</th>
            </tr>
        </thead>

        <tbody>
            <tr *ngFor="let p of products">
                <td>{{ p.name }}</td>
                <td>{{ p.brand }}</td>
                <td>{{ p.color }}</td>
                <td>{{ p.type }}</td>
                <td>{{ p.price | currency: "BRL" }}</td>
                <td>{{ p.img }}</td>
                <td>{{ p.date | date: "dd/MM/yyyy HH:mm:ss" }}</td>
                <td class="right">
                    <a><i class="material-icons my-icon-size" (click)="onEdit(p)">edit</i></a>
                    <a><i class="material-icons my-icon-size" (click)="onDelete(p.name)">delete</i></a>
                </td>
            </tr>
        </tbody>
    </table>

    <div *ngIf="!products || products!.length == 0">
        <div class="row">
            <div class="center-align">
                <i class="col s12 material-icons large">mood_bad</i>
                <span class="col s12 flow-text">Oh no! Your vanity is empty. Don't worry, there will be a sale
                    soon.</span>
            </div>
        </div>
    </div>
</div>